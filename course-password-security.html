<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Security Course | CyberTech</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="js/settings-manager.js"></script>
    <script src="js/course-updater.js"></script>
    <script src="js/direct-lesson-injector.js"></script>
    <script>
        // Make sure the course content is always up to date with admin changes
        document.addEventListener('DOMContentLoaded', function() {
            // Update timestamp to refresh data without deleting courses
            localStorage.setItem('cybertech_admin_courses_last_update', new Date().getTime().toString());
            console.log('Updated timestamp to refresh course data without deleting existing courses');
            
            // Immediately check for template updates
            if (typeof checkAndApplyTemplateUpdates === 'function') {
                console.log('Checking for template updates on page load...');
                checkAndApplyTemplateUpdates();
            }
            // Force refresh course data
            if (localStorage.getItem('cybertech_admin_courses')) {
                console.log('Loading latest course data from admin settings');
                
                // Set up a MutationObserver to detect when course content is updated
                const observer = new MutationObserver((mutations) => {
                    mutations.forEach((mutation) => {
                        if (mutation.type === 'childList' && 
                            (mutation.target.classList.contains('course-description') || 
                             mutation.target.classList.contains('module-title') ||
                             mutation.target.classList.contains('module-duration'))) {
                            console.log('Course content updated by course-updater.js');
                        }
                    });
                });
                
                // Observe the course description and module titles for changes
                observer.observe(document.getElementById('main-course-description'), { childList: true, subtree: true });
                document.querySelectorAll('.module-title, .module-duration').forEach(el => {
                    observer.observe(el, { childList: true, subtree: true });
                });
                
                // Update timestamp to refresh data without deleting courses
                localStorage.setItem('cybertech_admin_courses_last_update', new Date().getTime().toString());
                console.log('Updated timestamp to refresh course data without deleting existing courses');
            }
        });
    </script>
    <style>
        /* Password Exercise Modal Styles */
        .exercise-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            overflow-y: auto;
        }

        .exercise-modal-content {
            background: white;
            width: 90%;
            max-width: 800px;
            margin: 40px auto;
            border-radius: 12px;
            position: relative;
            padding: 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .exercise-modal-header {
            background: #6900cc;
            color: white;
            padding: 20px 24px;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .exercise-modal-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }

        .exercise-modal-close {
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: background 0.3s ease;
        }

        .exercise-modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .exercise-content {
            padding: 24px;
        }

        .exercise-intro {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }

        .exercise-icon {
            width: 80px;
            height: 80px;
            background: #f0e6ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }

        .exercise-icon i {
            font-size: 36px;
            color: #6900cc;
        }

        .exercise-tips {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .exercise-tips h4 {
            color: #333;
            margin-bottom: 12px;
        }

        .exercise-tips ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .exercise-tips li {
            color: #666;
            margin-bottom: 8px;
            padding-left: 24px;
            position: relative;
        }

        .exercise-tips li::before {
            content: "•";
            color: #6900cc;
            position: absolute;
            left: 8px;
        }

        .exercise-question {
            background: #fff;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .exercise-question h4 {
            color: #333;
            margin-bottom: 16px;
        }

        .exercise-options {
            display: grid;
            gap: 12px;
        }

        .exercise-option {
            background: #f8f9fa;
            border: 1px solid #eee;
            border-radius: 6px;
            padding: 12px 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .exercise-option:hover {
            background: #f0f7ff;
            border-color: #007bff;
        }

        .exercise-option.selected {
            background: #e3f2fd;
            border-color: #007bff;
        }

        .exercise-score {
            text-align: center;
            padding: 20px;
        }

        .trophy-icon {
            width: 80px;
            height: 80px;
            background: #20c997;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }

        .trophy-icon i {
            font-size: 36px;
            color: white;
        }

        .score-display {
            margin: 20px 0;
        }

        .score-display span {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1e3a8a;
        }

        .question-review {
            margin-top: 30px;
            text-align: left;
        }

        .question-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
            border-left: 4px solid #dee2e6;
        }

        .question-item.correct {
            border-left-color: #28a745;
            background: #f8fff9;
        }

        .question-item.incorrect {
            border-left-color: #dc3545;
            background: #fff8f8;
        }

        .question-item h5 {
            margin: 0 0 8px 0;
            color: #333;
            font-size: 1rem;
        }

        .question-item .user-answer {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .question-item .correct-answer {
            color: #28a745;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .question-item .status-icon {
            float: right;
            font-size: 1.2rem;
        }

        .question-item.correct .status-icon {
            color: #28a745;
        }

        .question-item.incorrect .status-icon {
            color: #dc3545;
        }

        /* Exercise lesson styling */
        .exercise-lesson {
            cursor: pointer;
            padding: 12px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            background: #f8f9fa;
        }

        .exercise-lesson:hover {
            background: #f0f7ff;
            transform: translateX(4px);
        }

        /* Platform name styling for navigation and footer */
        .platform-name-styled .cyber-part {
            color: #4e54c8; /* Blue color */
            font-weight: 600;
        }
        
        .platform-name-styled .tech-part {
            color: #43d477; /* Green color */
            font-weight: 600;
        }
        
        /* Navigation logo styling */
        .navbar .logo h1 {
            text-decoration: none;
        }
        
        .navbar .logo h1 a {
            text-decoration: none;
        }
        
        .navbar .logo h1 .cyber-part {
            color: #4e54c8; /* Blue color */
            font-weight: 600;
        }
        
        .navbar .logo h1 .tech-part {
            color: #43d477; /* Green color */
            font-weight: 600;
        }
        
        /* Footer logo styling */
        .footer-col h3 .cyber-part {
            color: #4e54c8; /* Blue color */
            font-weight: 600;
        }
        
        .footer-col h3 .tech-part {
            color: #43d477; /* Green color */
            font-weight: 600;
        }
        
        /* Video Lesson Styles */
        .video-lesson {
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 5px;
            padding: 5px;
        }
        
        .video-lesson:hover {
            background-color: #f0f7ff;
            transform: translateX(5px);
        }
        
        .video-lesson:hover .fas.fa-play-circle {
            color: #007bff;
            transform: scale(1.1);
        }
        
        /* Reading Modal Styles */
        .reading-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            overflow: auto;
        }
        
        .reading-modal-content {
            position: relative;
            background-color: #fff;
            margin: 5% auto;
            width: 90%;
            max-width: 1200px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .reading-modal-header {
            background-color: #4e54c8;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .reading-modal-header h3 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }
        
        .reading-modal-close {
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .reading-modal-close:hover {
            color: #ddd;
        }
        
        .password-myths-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            padding: 20px;
            background-color: #f8f9fa;
        }
        
        .myth-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
            position: relative;
        }
        
        .myth-icon {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            background: #4e54c8;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }
        
        .myth-icon i {
            color: white !important;
            font-size: 18px !important;
            display: block !important;
        }
        
        .myth-card h4 {
            margin: 0 0 15px 60px;
            color: #333;
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .myth-card p {
            margin: 0 0 20px 60px;
            color: #666;
            line-height: 1.6;
        }
        
        .truth-box {
            background: #f8f9fa;
            border-left: 4px solid #4e54c8;
            padding: 15px;
            margin-left: 60px;
            border-radius: 5px;
        }
        
        .truth-box h5 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .truth-box h5 i {
            color: #28a745;
        }
        
        .truth-box p {
            margin: 0;
            color: #666;
            line-height: 1.5;
        }
        
        /* Video Modal Styles */
        .video-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
        }
        
        .video-modal-content {
            background-color: #fff;
            margin: 5% auto;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .video-modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .video-modal-header h3 {
            margin: 0;
            font-size: 1.2rem;
        }
        
        .close-video-modal {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            line-height: 1;
            transition: transform 0.2s ease;
        }
        
        .close-video-modal:hover {
            transform: scale(1.1);
        }
        
        .video-modal-body {
            padding: 20px;
        }
        
        .video-container {
            width: 100%;
            margin-bottom: 20px;
        }
        
        .video-container video {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .video-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        
        .video-info p {
            margin: 5px 0;
            color: #666;
        }
        
        #durationText {
            font-weight: bold;
            color: #007bff;
        }
        
        /* Reading Lesson Styles */
        .lesson-expandable {
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 5px;
            padding: 5px;
        }
        
        .lesson-expandable:hover {
            background-color: #f0f7ff;
            transform: translateX(5px);
        }
        
        .lesson-expandable:hover .fas.fa-file-alt {
            color: #007bff;
            transform: scale(1.1);
        }
        
        .expand-icon {
            transition: transform 0.3s ease;
        }
        
        .expand-icon.rotate {
            transform: rotate(180deg);
        }
        
        .lesson-expanded-content {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid #007bff;
        }
        
        .password-myths-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .myth-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            border: 1px solid #e9ecef;
            position: relative;
        }
        
        .myth-icon {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 30px;
            height: 30px;
            background: #dc3545;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .myth-card h4 {
            margin: 0 0 10px 40px;
            color: #333;
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .myth-card p {
            margin: 0 0 15px 40px;
            color: #666;
            line-height: 1.5;
        }
        
        .truth-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            border-radius: 5px;
            margin-left: 40px;
        }
        
        .truth-box h5 {
            margin: 0 0 8px 0;
            color: #155724;
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .truth-box h5 i {
            color: #28a745;
        }
        
        .truth-box p {
            margin: 0;
            color: #155724;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <h1 class="platform-name-styled"><a href="index.html"><span class="cyber-part">Cyber</span><span class="tech-part">Tech</span></a></h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html" class="nav-link-blue">Home</a></li>
                <li><a href="index.html#courses" class="nav-link-green active">Courses</a></li>
                <li><a href="about.html" class="nav-link-green">About</a></li>
                <li><a href="contact.html" class="nav-link-blue">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Course Header -->
    <section class="course-header">
        <div class="container">
            <div class="course-header-content">
                <div class="course-badge beginner small-badge">Beginner</div>
                <h1 id="course-title">Password Security</h1>
                <div class="course-meta">
                    <span id="course-duration"><i class="fas fa-clock"></i> 1.5 hours</span>
                    <span id="course-enrolled"><i class="fas fa-users"></i> 2,130 enrolled</span>
                    <span><i class="fas fa-star"></i> 4.7 (198 reviews)</span>
                    <span><i class="fas fa-certificate"></i> Certificate Included</span>
                </div>
                <p class="course-description" id="main-course-description">
                    Master the art of creating and managing secure passwords across multiple platforms. 
                </p>
                <div class="course-actions">
                    <a href="#overview" class="btn btn-primary" onclick="showTab('overview')">Start Learning</a>
                    <a href="certificate.html" class="btn btn-secondary">Get the Certificate</a>
                </div>

                <script>
                    function showTab(tabId) {
                        // Hide all tab contents
                        document.querySelectorAll('.tab-content').forEach(content => {
                            content.classList.remove('active');
                        });
                        
                        // Show selected tab content
                        document.getElementById(tabId).classList.add('active');
                        
                        // Update tab buttons
                        document.querySelectorAll('.tab-btn').forEach(btn => {
                            btn.classList.remove('active');
                            if(btn.getAttribute('data-tab') === tabId) {
                                btn.classList.add('active');
                            }
                        });
                    }
                </script>
            </div>
            <div class="course-image">
                <img src="images/Password Security .jpg" alt="Password Security" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
        </div>
    </section>

    <!-- Course Overview -->
    <section class="course-overview" id="course-content">
        <div class="container">
            <div class="course-tabs">
                <button class="tab-btn active" data-tab="overview">Overview</button>
                <button class="tab-btn" data-tab="curriculum">Curriculum</button>
                <button class="tab-btn" data-tab="reviews">Reviews</button>
            </div>
            
            <div class="tab-content active" id="overview">
                <h2>Course Overview</h2>
                <p id="course-overview-text">
                    Master the art of creating and managing secure passwords across multiple platforms. This course covers password best practices, multi-factor authentication, and password management tools to keep your accounts secure. You'll learn how to create strong, memorable passwords and implement a personal password strategy that balances security with convenience. The course explores modern authentication methods including biometrics, hardware tokens, and authenticator apps, while providing practical guidance on implementing these solutions in both personal and professional environments. By the end of this course, you'll have transformed your password habits and significantly enhanced your digital security posture.
                </p>
                
                <h3>What You Will Learn</h3>
                <ul class="course-features">
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Understand what makes a password strong or weak</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Create and remember complex, unique passwords for different accounts</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Use password managers effectively and securely</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Implement multi-factor authentication for enhanced security</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Recognize and avoid common password-related scams</span>
                    </li>
                </ul>
                
                <h3>Course Requirements</h3>
                <ul class="requirements-list">
                    <li>No prior cybersecurity knowledge required</li>
                    <li>Basic computer skills</li>
                    <li>A computer or mobile device with internet access</li>
                </ul>
                
                <h3>Who This Course is For</h3>
                <ul class="target-audience">
                    <li>Anyone who uses online accounts or services</li>
                    <li>Employees who handle sensitive company information</li>
                    <li>Individuals looking to improve their personal digital security</li>
                    <li>Team leaders responsible for implementing security practices</li>
                </ul>
            </div>
            
            <div class="tab-content" id="curriculum">
                <h2>Course Curriculum</h2>
                
                <div class="course-module">
                    <div class="module-header">
                        <h3 class="module-title">Module 1: Password Fundamentals</h3>
                        <span class="module-length"><i class="fas fa-clock"></i> <span class="module-duration">15 minutes</span></span>
                    </div>
                    <div class="module-content">
                        <ul class="module-lessons">
                            <li>
                                <div class="lesson-info video-lesson">
                                    <i class="fas fa-play-circle"></i>
                                    <span>The Importance of Password Security</span>
                                </div>
                                <span class="lesson-length">7 min</span>
                            </li>
                            <li>
                                  <div class="lesson-info reading-lesson" onclick="openPasswordMythsModal()">
                                      <i class="fas fa-file-alt" style="color: #4e54c8;"></i>
                                      <span>Common Password Myths and Misconceptions</span>
                                </div>
                                <span class="lesson-length">8 min</span>
                            </li>
                        </ul>
                                            </div>
                                        </div>

                <div class="course-module">
                    <div class="module-header">
                        <h3 class="module-title">Module 2: Creating Strong Passwords</h3>
                        <span class="module-length"><i class="fas fa-clock"></i> <span class="module-duration">8 minutes</span></span>
                                            </div>
                    <div class="module-content">
                        <ul class="module-lessons">
                            <li>
                                <div class="lesson-info video-lesson">
                                    <i class="fas fa-play-circle"></i>
                                    <span>Characteristics of Strong Passwords</span>
                                            </div>
                                <span class="lesson-length">8 min</span>
                            </li>
                        </ul>
                                            </div>
                                        </div>

                <div class="course-module">
                    <div class="module-header">
                        <h3 class="module-title">Module 3: Password Management Tools</h3>
                        <span class="module-length"><i class="fas fa-clock"></i> <span class="module-duration">12 minutes</span></span>
                                            </div>
                    <div class="module-content">
                        <ul class="module-lessons">
                            <li>
                                <div class="lesson-info video-lesson">
                                    <i class="fas fa-play-circle"></i>
                                    <span>Setting Up and Using a Password Manager</span>
                                            </div>
                                <span class="lesson-length">12 min</span>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="course-module">
                    <div class="module-header">
                        <h3 class="module-title">Module 4: Advanced Authentication</h3>
                        <span class="module-length"><i class="fas fa-clock"></i> <span class="module-duration">25 minutes</span></span>
                    </div>
                    <div class="module-content">
                        <ul class="module-lessons">
                            <li>
                                <div class="lesson-info video-lesson">
                                    <i class="fas fa-play-circle"></i>
                                    <span>Multi-Factor Authentication</span>
                                </div>
                                <span class="lesson-length">8 min</span>
                            </li>
                            <li>
                                <div class="lesson-info video-lesson">
                                    <i class="fas fa-play-circle"></i>
                                    <span>Biometric Authentication: Benefits and Limitations</span>
                                </div>
                                <span class="lesson-length">7 min</span>
                            </li>
                            <li>
                                <div class="lesson-info exercise-lesson" onclick="openPasswordExercise()">
                                    <i class="fas fa-puzzle-piece"></i>
                                    <span>Interactive Exercise: Password Strength Analyzer</span>
                                </div>
                                <span class="lesson-length">10 min</span>image.png
                                <script>
                                    // Make functions globally accessible
                                    window.openPasswordExercise = function() {
                                        console.log('Opening password exercise modal...');
                                        const modal = document.getElementById('passwordExerciseModal');
                                        if (modal) {
                                            modal.style.display = 'block';
                                            document.body.style.overflow = 'hidden';
                                            
                                                                                         // Check if user is admin
                                             const currentUser = JSON.parse(localStorage.getItem('cybertech_user') || '{}');
                                             console.log('Current user:', currentUser);
                                             console.log('Is admin?', currentUser.isAdmin);
                                             
                                             // If user is admin, always allow retaking
                                             const isAdmin = currentUser.role === 'admin' || currentUser.isAdmin === true;
                                             if (isAdmin) {
                                                 console.log('Admin user - allowing exercise retake');
                                                 // Force show intro page for admin immediately
                                                 document.getElementById('exerciseIntro').style.display = 'block';
                                                 document.getElementById('exerciseQuestions').style.display = 'none';
                                                 document.getElementById('exerciseResults').style.display = 'none';
                                                 resetExercise();
                                             }
                                             // For regular users, check if they've already completed
                                             else {
                                                 const existingResults = JSON.parse(localStorage.getItem('cybertech_assessment_results') || '[]');
                                                 
                                                 // Find user's previous result for this exercise
                                                 const userPreviousResult = existingResults.find(result => 
                                                     result.exerciseName === 'Password Strength Analyzer' && 
                                                     (result.userId === currentUser.id || 
                                                      result.userId === currentUser.username || 
                                                      result.name === currentUser.username || 
                                                      result.name === currentUser.name)
                                                 );
                                                 
                                                 // If user has already completed, show previous results
                                                 if (userPreviousResult) {
                                                     console.log('User has already completed exercise - showing previous results');
                                                     showPreviousResults(userPreviousResult);
                                                 }
                                                 // If user hasn't completed yet, start fresh
                                                 else {
                                                     console.log('New user - starting fresh exercise');
                                                     resetExercise();
                                                 }
                                             }
                                            
                                            console.log('Password exercise modal opened successfully');
                                        } else {
                                            console.error('Password exercise modal not found!');
                                        }
                                    };

                                    window.closePasswordExercise = function() {
                                        const modal = document.getElementById('passwordExerciseModal');
                                        if (modal) {
                                            modal.style.display = 'none';
                                            document.body.style.overflow = '';
                                        }
                                    };

                                    window.startPasswordExercise = function() {
                                        document.getElementById('exerciseIntro').style.display = 'none';
                                        document.getElementById('exerciseQuestions').style.display = 'block';
                                        showQuestion(0);
                                    };

                                    // Password exercise questions
                                    const passwordQuestions = [
                                        {
                                            question: "Which of these passwords is the strongest?",
                                            options: [
                                                "P@ssw0rd123!",
                                                "ILovePizza2024",
                                                "correct-horse-battery-staple",
                                                "Admin123!"
                                            ],
                                            correct: 2,
                                            explanation: "A long passphrase is more secure than short complex passwords. It's easier to remember and has more entropy."
                                        },
                                        {
                                            question: "What's wrong with this password: 'MyPassword1!' → 'MyPassword2!' → 'MyPassword3!'?",
                                            options: [
                                                "It's too short",
                                                "It follows a predictable pattern",
                                                "It doesn't use special characters",
                                                "It's case sensitive"
                                            ],
                                            correct: 1,
                                            explanation: "Using simple variations of the same password makes it easy for attackers to guess the pattern."
                                        },
                                        {
                                            question: "Which password practice is most secure?",
                                            options: [
                                                "Using your birthday + special characters",
                                                "Using the same complex password everywhere",
                                                "Using a password manager with unique passwords",
                                                "Changing passwords every month"
                                            ],
                                            correct: 2,
                                            explanation: "Password managers allow you to use strong, unique passwords for each account without having to remember them."
                                        },
                                        {
                                            question: "Why is 'Spring2024!' a weak password?",
                                            options: [
                                                "It's too long",
                                                "It doesn't use numbers",
                                                "It's based on predictable information",
                                                "It lacks lowercase letters"
                                            ],
                                            correct: 2,
                                            explanation: "Passwords based on seasons, years, or common words are easily guessable as they follow predictable patterns."
                                        },
                                        {
                                            question: "Which authentication method is most secure?",
                                            options: [
                                                "A very complex password",
                                                "Two different passwords",
                                                "Password + security questions",
                                                "Password + authenticator app"
                                            ],
                                            correct: 3,
                                            explanation: "Two-factor authentication with an authenticator app provides an additional layer of security that can't be easily compromised."
                                        }
                                    ];

                                    let currentQuestion = 0;
                                            let score = 0;
                                    let userAnswers = [];

                                    // Initialize exercise modal handlers
                                    document.addEventListener('DOMContentLoaded', function() {
                                        // Close modal when clicking outside
                                        const modal = document.getElementById('passwordExerciseModal');
                                        if (modal) {
                                            modal.addEventListener('click', function(e) {
                                                if (e.target === modal) {
                                                    closePasswordExercise();
                                                }
                                            });
                                        }

                                        // Close modal on ESC key
                                        document.addEventListener('keydown', function(e) {
                                            if (e.key === 'Escape') {
                                                const modal = document.getElementById('passwordExerciseModal');
                                                if (modal && modal.style.display === 'block') {
                                                    closePasswordExercise();
                                                }
                                            }
                                        });
                                    });

                                    window.resetExercise = function() {
                                        console.log('Resetting exercise...');
                                        currentQuestion = 0;
                                        score = 0;
                                        userAnswers = [];
                                        
                                        // Always show intro page first
                                        document.getElementById('exerciseIntro').style.display = 'block';
                                        document.getElementById('exerciseQuestions').style.display = 'none';
                                        document.getElementById('exerciseResults').style.display = 'none';
                                        
                                        // Clear question review
                                        const questionReview = document.getElementById('questionReview');
                                        if (questionReview) {
                                            questionReview.innerHTML = '';
                                        }
                                        
                                        console.log('Exercise reset complete - intro page should be visible');
                                    };

                                    window.showQuestion = function(index) {
                                        const questionsContainer = document.getElementById('exerciseQuestions');
                                        const question = passwordQuestions[index];

                                        const html = `
                                            <div class="exercise-question">
                                                <h4>Question ${index + 1} of 5:</h4>
                                                <p>${question.question}</p>
                                                <div class="exercise-options">
                                                    ${question.options.map((option, i) => `
                                                        <div class="exercise-option" onclick="selectAnswer(${i})">
                                                            ${option}
                                                        </div>
                                                    `).join('')}
                                                </div>
                                            </div>
                                        `;

                                        questionsContainer.innerHTML = html;
                                    };

                                    window.selectAnswer = function(answerIndex) {
                                        userAnswers[currentQuestion] = answerIndex;
                                        if (answerIndex === passwordQuestions[currentQuestion].correct) {
                                            score++;
                                        }

                                        if (currentQuestion < passwordQuestions.length - 1) {
                                            currentQuestion++;
                                            showQuestion(currentQuestion);
                                        } else {
                                            showResults();
                                        }
                                    };

                                    window.showResults = function() {
                                        const percentage = Math.round((score / passwordQuestions.length) * 100);
                                        
                                        // Generate feedback message based on score
                                        let feedbackMessage = '';
                                        if (percentage >= 80) {
                                            feedbackMessage = 'Excellent! You have excellent password security knowledge. 👍';
                                        } else if (percentage >= 60) {
                                            feedbackMessage = 'Good job! You have good password security skills, but there\'s room for improvement. 👍';
                                        } else if (percentage >= 40) {
                                            feedbackMessage = 'Not bad! You have some password security knowledge, but you need to learn more. 📚';
                                        } else {
                                            feedbackMessage = 'Keep learning! Review the course materials to improve your password security knowledge. 📚';
                                        }
                                        
                                        // Save result for admin view
                                        const currentUser = JSON.parse(localStorage.getItem('cybertech_user') || '{}');
                                            const exerciseResult = {
                                            name: currentUser.username || currentUser.name || 'Anonymous User',
                                            email: currentUser.email || 'No email provided',
                                            userId: currentUser.id || currentUser.username || 'unknown',
                                                score: percentage,
                                                dateTaken: new Date().toISOString().split('T')[0],
                                                category: 'Password Security',
                                                status: percentage >= 50 ? 'passed' : 'failed',
                                            exerciseName: 'Password Strength Analyzer'
                                            };
                                            
                                        // Only save if not admin
                                        if (!currentUser.isAdmin) {
                                            const existingResults = JSON.parse(localStorage.getItem('cybertech_assessment_results') || '[]');
                                            existingResults.push(exerciseResult);
                                            localStorage.setItem('cybertech_assessment_results', JSON.stringify(existingResults));
                                        }

                                        // Update results display
                                        document.getElementById('exerciseQuestions').style.display = 'none';
                                        document.getElementById('exerciseResults').style.display = 'block';
                                        document.getElementById('scoreDisplay').textContent = `${score}/${passwordQuestions.length}`;
                                        document.getElementById('feedbackMessage').textContent = feedbackMessage;
                                        
                                        // Generate question review
                                        generateQuestionReview();
                                    };

                                    window.generateQuestionReview = function() {
                                        const reviewContainer = document.getElementById('questionReview');
                                        let reviewHTML = '<h4>Question Review:</h4>';
                                        
                                        passwordQuestions.forEach((question, index) => {
                                            const userAnswer = userAnswers[index];
                                            const isCorrect = userAnswer === question.correct;
                                            const userAnswerText = question.options[userAnswer];
                                            const correctAnswerText = question.options[question.correct];
                                            
                                            reviewHTML += `
                                                <div class="question-item ${isCorrect ? 'correct' : 'incorrect'}">
                                                    <i class="fas fa-${isCorrect ? 'check' : 'times'} status-icon"></i>
                                                    <h5>Question ${index + 1}: ${question.question}</h5>
                                                    <div class="user-answer">Your answer: ${userAnswerText}</div>
                                                    ${!isCorrect ? `<div class="correct-answer">Correct answer: ${correctAnswerText}</div>` : ''}
                    </div>
                                            `;
                                        });
                                        
                                        reviewContainer.innerHTML = reviewHTML;
                                    };

                                    window.showPreviousResults = function(previousResult) {
                                        // Hide intro and questions, show results
                                        document.getElementById('exerciseIntro').style.display = 'none';
                                        document.getElementById('exerciseQuestions').style.display = 'none';
                                        document.getElementById('exerciseResults').style.display = 'block';
                                        
                                        // Update score display - convert percentage to X/5 format
                                        const scorePercentage = previousResult.score;
                                        const userScore = Math.round((scorePercentage / 100) * 5);
                                        
                                        document.getElementById('scoreDisplay').textContent = `${userScore}/5`;
                                        
                                        // Generate feedback message based on score
                                        const percentage = Math.round((previousResult.score / 5) * 100);
                                        let feedbackMessage = '';
                                        if (percentage >= 80) {
                                            feedbackMessage = 'Excellent! You have excellent password security knowledge. 👍';
                                        } else if (percentage >= 60) {
                                            feedbackMessage = 'Good job! You have good password security skills, but there\'s room for improvement. 👍';
                                        } else if (percentage >= 40) {
                                            feedbackMessage = 'Not bad! You have some password security knowledge, but you need to learn more. 📚';
                                        } else {
                                            feedbackMessage = 'Keep learning! Review the course materials to improve your password security knowledge. 📚';
                                        }
                                        
                                        document.getElementById('feedbackMessage').textContent = feedbackMessage;
                                        
                                        // Show completion date
                                        const completionDate = previousResult.dateTaken || 'Unknown date';
                                        const dateDisplay = document.createElement('p');
                                        dateDisplay.style.cssText = 'color: #666; font-size: 0.9rem; margin-top: 10px;';
                                        dateDisplay.textContent = `Completed on: ${completionDate}`;
                                        
                                        const feedbackElement = document.getElementById('feedbackMessage');
                                        feedbackElement.appendChild(dateDisplay);
                                        

                                        
                                        // Clear question review since we don't have the detailed answers
                                        document.getElementById('questionReview').innerHTML = '';
                                    };


                                </script>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            

            
            <div class="tab-content" id="reviews">
                <h2>Student Reviews</h2>
                
                <!-- Review Form -->
                <div class="review-form-container" id="reviewFormContainer">
                    <h3>Rate This Course</h3>
                    <p>Share your experience with CyberTech</p>
                    
                    <form id="reviewForm" class="review-form">
                        <div class="rating-input">
                            <p>Your Rating:</p>
                            <div class="star-rating">
                                <i class="far fa-star" data-rating="1"></i>
                                <i class="far fa-star" data-rating="2"></i>
                                <i class="far fa-star" data-rating="3"></i>
                                <i class="far fa-star" data-rating="4"></i>
                                <i class="far fa-star" data-rating="5"></i>
                                <input type="hidden" name="rating" id="selectedRating" value="0">
                            </div>
                        </div>
                        
                        <div class="comment-input">
                            <label for="reviewComment">Your Comment (Optional):</label>
                            <textarea id="reviewComment" name="comment" rows="4" placeholder="Share your thoughts about this course..."></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Submit Review</button>
                    </form>
                </div>
                
                <div class="review-summary">
                    <div class="review-average">
                        <span class="rating">4.7</span>
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="total-reviews">198 reviews</span>
                    </div>
                    <div class="rating-bars">
                        <div class="rating-bar">
                            <span class="rating-label">5 stars</span>
                            <div class="progress-bar">
                                <div class="progress" style="width: 75%;"></div>
                            </div>
                            <span class="rating-percent">75%</span>
                        </div>
                        <div class="rating-bar">
                            <span class="rating-label">4 stars</span>
                            <div class="progress-bar">
                                <div class="progress" style="width: 20%;"></div>
                            </div>
                            <span class="rating-percent">20%</span>
                        </div>
                        <div class="rating-bar">
                            <span class="rating-label">3 stars</span>
                            <div class="progress-bar">
                                <div class="progress" style="width: 3%;"></div>
                            </div>
                            <span class="rating-percent">3%</span>
                        </div>
                        <div class="rating-bar">
                            <span class="rating-label">2 stars</span>
                            <div class="progress-bar">
                                <div class="progress" style="width: 1%;"></div>
                            </div>
                            <span class="rating-percent">1%</span>
                        </div>
                        <div class="rating-bar">
                            <span class="rating-label">1 star</span>
                            <div class="progress-bar">
                                <div class="progress" style="width: 1%;"></div>
                            </div>
                            <span class="rating-percent">1%</span>
                        </div>
                    </div>
                </div>
                
                <div class="review-list" id="review-page-1">
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Michael Brown</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="review-date">3 weeks ago</span>
                        </div>
                        <p class="review-text">
                            This course completely changed my approach to online security. The password manager recommendations and setup guides were especially helpful. Now I have unique, strong passwords for every account!
                        </p>
                    </div>
                    
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Emma Rodriguez</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="review-date">1 month ago</span>
                        </div>
                        <p class="review-text">
                            As an IT manager, I enrolled my entire team in this course. The content is clear, practical, and has significantly improved our company's security posture.
                        </p>
                    </div>
                    
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>James Wilson</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </div>
                            <span class="review-date">2 months ago</span>
                        </div>
                        <p class="review-text">
                            Solid course with practical advice. The fundamentals are excellent and can be applied immediately to improve security.
                        </p>
                    </div>
                </div>

                <div class="review-list" id="review-page-2" style="display: none;">
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Linda Martinez</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="review-date">2.5 months ago</span>
                        </div>
                        <p class="review-text">
                            The section on creating memorable yet secure passwords was eye-opening. I appreciate how the course balances security with practicality.
                        </p>
                    </div>
                    
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Alex Thompson</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span class="review-date">3 months ago</span>
                        </div>
                        <p class="review-text">
                            Great introduction to password security. The password manager comparison section helped me choose the right tool for my needs.
                        </p>
                    </div>
                    
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Sarah Chen</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="review-date">3.5 months ago</span>
                        </div>
                        <p class="review-text">
                            The multi-factor authentication module was particularly well-explained. I now understand why it's so important for account security.
                        </p>
                    </div>
                </div>

                <div class="review-list" id="review-page-3" style="display: none;">
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>David Park</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="review-date">4 months ago</span>
                        </div>
                        <p class="review-text">
                            The interactive exercises really helped reinforce the concepts. I feel much more confident managing my passwords now.
                        </p>
                    </div>
                    
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Jessica White</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="review-date">4.5 months ago</span>
                        </div>
                        <p class="review-text">
                            Excellent course! The section on password recovery and backup strategies was particularly valuable for our organization.
                        </p>
                    </div>
                    
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Robert Lee</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                            </div>
                            <span class="review-date">5 months ago</span>
                        </div>
                        <p class="review-text">
                            Very thorough coverage of password security principles. The practical examples made complex concepts easy to understand.
                        </p>
                    </div>
                </div>

                <div class="review-list" id="review-page-4" style="display: none;">
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Maria Garcia</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="review-date">5.5 months ago</span>
                        </div>
                        <p class="review-text">
                            The course structure is well thought out. I especially appreciated the tips for managing passwords across multiple devices.
                        </p>
                    </div>
                    
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Chris Anderson</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span class="review-date">6 months ago</span>
                        </div>
                        <p class="review-text">
                            Clear explanations of complex security concepts. The course has helped our team implement better password policies.
                        </p>
                    </div>
                    
                    <div class="review-item">
                        <div class="reviewer-info">
                            <h4>Michelle Kim</h4>
                            <div class="review-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <span class="review-date">6.5 months ago</span>
                        </div>
                        <p class="review-text">
                            Comprehensive coverage of modern password security. The biometric authentication section was particularly interesting.
                        </p>
                    </div>
                </div>
                
                <div class="review-pagination">
                    <div class="pagination-dots">
                        <span class="dot active" onclick="showReviewPage(1)"></span>
                        <span class="dot" onclick="showReviewPage(2)"></span>
                        <span class="dot" onclick="showReviewPage(3)"></span>
                        <span class="dot" onclick="showReviewPage(4)"></span>
                    </div>
                </div>

                <script>
                    function showReviewPage(pageNumber) {
                        // Hide all review pages
                        document.querySelectorAll('.review-list').forEach(page => {
                            page.style.display = 'none';
                        });
                        
                        // Show selected page
                        document.getElementById('review-page-' + pageNumber).style.display = 'block';
                        
                        // Update active dot
                        document.querySelectorAll('.dot').forEach(dot => {
                            dot.classList.remove('active');
                        });
                        document.querySelectorAll('.dot')[pageNumber - 1].classList.add('active');
                    }
                </script>
                <style>
                    .pagination-dots {
                        display: flex;
                        justify-content: center;
                        gap: 8px;
                        margin: 20px 0;
                    }
                    .pagination-dots .dot {
                        width: 12px;
                        height: 12px;
                        background-color: #FFE600;
                        border-radius: 50%;
                        cursor: pointer;
                        transition: background-color 0.3s ease;
                    }
                    .pagination-dots .dot.active {
                        background-color: #FF0000;
                    }
                </style>
            </div>
        </div>
    </section>

    <!-- Related Courses -->
    <section class="related-courses">
        <div class="container">
            <h2>Related Courses</h2>
            <div class="courses-grid">
                <div class="course-card">
                    <div class="course-image">
                        <img src="images/Phishing Awern..jpg .jpg" alt="Phishing Awareness">
                        <div class="course-badge beginner">Beginner</div>
                    </div>
                    <div class="course-content">
                        <h3>Phishing Awareness</h3>
                        <p>Avoid phishing attempts & secure daily work environment</p>
                        <div class="course-meta">
                            <span><i class="fas fa-clock"></i> 2 hours</span>
                            <span><i class="fas fa-users"></i> 1,245 enrolled</span>
                        </div>
                        <a href="course-phishing.html" class="btn btn-course">Start Course</a>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Enrollment CTA -->
    <section class="course-cta">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to strengthen your password security?</h2>
                <p>Join 2,130+ professionals who have already completed this course</p>
                <a href="#course-content" class="btn btn-cta">Enroll Now</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3 class="platform-name-styled"><span class="cyber-part">Cyber</span><span class="tech-part">Tech</span></h3>
                    <p class="platform-description">An interactive cybersecurity awareness platform designed to empower employees with practical skills to navigate the digital world safely.</p>
                    <div class="social-icons">
                        <a href="https://www.facebook.com/profile.php?id=61578401008909"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.instagram.com/noor.dmin/?igsh=cnp1d2l3cHp6eTdn#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#courses">Courses</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Courses</h4>
                    <ul>
                        <li><a href="course-phishing.html">Phishing Awareness</a></li>
                        <li><a href="course-password-security.html">Password Security</a></li>
                        <li><a href="course-data-protection.html">Data Protection</a></li>
                        <li><a href="course-social-engineering.html">Social Engineering</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contact Us</h4>
                    <ul class="contact-info">
                        <li><i class="fas fa-map-marker-alt"></i> 123 Cyber Street, Tech City</li>
                        <li><i class="fas fa-phone"></i> +44 20 7123 4567</li>
                        <li><i class="fas fa-envelope"></i> Admin@cybertech.com</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 <span class="platform-name platform-name-styled"><span class="cyber-part">Cyber</span><span class="tech-part">Tech</span></span>. All rights reserved.</p>
                <div class="footer-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#">Cookie Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Password Exercise Modal -->
    <div id="passwordExerciseModal" class="exercise-modal">
        <div class="exercise-modal-content">
            <div class="exercise-modal-header">
                <h2>Password Strength Analyzer Exercise</h2>
                <span class="exercise-modal-close" onclick="closePasswordExercise()">&times;</span>
            </div>
            <div class="exercise-content">
                <div class="exercise-intro" id="exerciseIntro">
                    <div class="exercise-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Test Your Password Security Knowledge</h3>
                    <p>You'll be shown 5 different password scenarios. Your task is to analyze each password and identify its strengths and weaknesses.</p>
                    <div class="exercise-tips">
                        <h4>Consider these factors:</h4>
                        <ul>
                            <li>Password length and complexity</li>
                            <li>Use of personal information</li>
                            <li>Common patterns and variations</li>
                            <li>Reuse across multiple accounts</li>
                            <li>Overall security strength</li>
                        </ul>
                    </div>
                    <button class="btn btn-primary" onclick="startPasswordExercise()">Start Exercise</button>
                </div>
                <div id="exerciseQuestions" style="display: none;">
                    <!-- Questions will be inserted here -->
                </div>
                <div id="exerciseResults" style="display: none;">
                    <div class="exercise-score">
                        <div class="trophy-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3>Exercise Complete!</h3>
                        <div class="score-display">
                            <span id="scoreDisplay">0/5</span>
                        </div>
                        <p id="feedbackMessage">Your results have been recorded.</p>
                    </div>
                    <div class="question-review" id="questionReview">
                        <!-- Question review will be inserted here -->
                    </div>
                    <button class="btn btn-primary" onclick="closePasswordExercise()">Close Exercise</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Myths Modal -->
    <div id="passwordMythsModal" class="reading-modal">
        <div class="reading-modal-content">
            <div class="reading-modal-header">
                <h3>Common Password Myths and Misconceptions</h3>
                <span class="reading-modal-close" onclick="closePasswordMythsModal()">&times;</span>
            </div>
            <div class="password-myths-container">
                <div class="myth-card">
                    <div class="myth-icon">
                        <i class="fas fa-shield-alt" style="color: white; font-size: 18px;"></i>
                    </div>
                    <h4>Myth: Complex Passwords Are Always Secure</h4>
                    <p>A password with special characters doesn't automatically make it secure. Length is often more important than complexity.</p>
                    <div class="truth-box">
                        <h5><i class="fas fa-check"></i> Truth:</h5>
                        <p>Long passphrases can be more secure and easier to remember than short complex passwords.</p>
                    </div>
                </div>
                
                <div class="myth-card">
                    <div class="myth-icon">
                        <i class="fas fa-calendar-alt" style="color: white; font-size: 18px;"></i>
                    </div>
                    <h4>Myth: Changing Passwords Every Month Increases Security</h4>
                    <p>Frequent mandatory changes often lead to weaker passwords or minor variations of old ones.</p>
                    <div class="truth-box">
                        <h5><i class="fas fa-check"></i> Truth:</h5>
                        <p>Change passwords when there's a reason (breach, compromise) rather than on a fixed schedule.</p>
                    </div>
                </div>
                
                <div class="myth-card">
                    <div class="myth-icon">
                        <i class="fas fa-key" style="color: white; font-size: 18px;"></i>
                    </div>
                    <h4>Myth: Password Managers Are Not Safe</h4>
                    <p>Some believe storing all passwords in one place is risky.</p>
                    <div class="truth-box">
                        <h5><i class="fas fa-check"></i> Truth:</h5>
                        <p>Reputable password managers use strong encryption and are more secure than reusing passwords or storing them in plain text.</p>
                    </div>
                </div>
                
                <div class="myth-card">
                    <div class="myth-icon">
                        <i class="fas fa-user" style="color: white; font-size: 18px;"></i>
                    </div>
                    <h4>Myth: Using Personal Information Makes Passwords Memorable</h4>
                    <p>Using birthdays, names, or other personal info is common but dangerous.</p>
                    <div class="truth-box">
                        <h5><i class="fas fa-check"></i> Truth:</h5>
                        <p>Personal information is easily discovered by attackers through social media and public records.</p>
                    </div>
                </div>
                
                <div class="myth-card">
                    <div class="myth-icon">
                        <i class="fas fa-copy" style="color: white; font-size: 18px;"></i>
                    </div>
                    <h4>Myth: Small Variations Make Passwords Unique</h4>
                    <p>Adding numbers or changing characters slightly between passwords isn't secure.</p>
                    <div class="truth-box">
                        <h5><i class="fas fa-check"></i> Truth:</h5>
                        <p>Each password should be completely unique and unrelated to others you use.</p>
                    </div>
                </div>
                
                <div class="myth-card">
                    <div class="myth-icon">
                        <i class="fas fa-mobile-alt" style="color: white; font-size: 18px;"></i>
                    </div>
                    <h4>Myth: Two-Factor Authentication Is Inconvenient</h4>
                    <p>Some avoid 2FA thinking it adds unnecessary steps to login.</p>
                    <div class="truth-box">
                        <h5><i class="fas fa-check"></i> Truth:</h5>
                        <p>The extra security far outweighs the minimal time investment, and many 2FA methods are quite convenient.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div id="videoModal" class="video-modal">
        <div class="video-modal-content">
            <div class="video-modal-header">
                <h3 id="videoTitle">Video Title</h3>
                <span class="close-video-modal" onclick="closeVideoModal()">&times;</span>
            </div>
            <div class="video-modal-body">
                <div class="video-container">
                    <video id="courseVideo" controls preload="metadata">
                        <source src="" type="video/mp4">
                        <p>Your browser does not support the video tag.</p>
                    </video>
                </div>
                <div class="video-info">
                    <p id="videoDuration">Duration: <span id="durationText">0 min</span></p>
                    <p>Click play to start the lesson. You can pause and resume at any time.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script>
        // Password Myths Modal Functions
        function openPasswordMythsModal() {
            console.log('🎯 Opening password myths modal');
            const modal = document.getElementById('passwordMythsModal');
            if (modal) {
                modal.style.display = 'block';
                modal.style.visibility = 'visible';
                modal.style.opacity = '1';
                modal.style.zIndex = '9999';
                document.body.style.overflow = 'hidden';
                console.log('✅ Opened password myths modal');
            } else {
                console.error('❌ Password myths modal not found');
            }
        }

        function closePasswordMythsModal() {
            console.log('🎯 Closing password myths modal');
            const modal = document.getElementById('passwordMythsModal');
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = '';
                console.log('✅ Closed password myths modal');
            }
        }

        // Make functions globally accessible
        window.openPasswordMythsModal = openPasswordMythsModal;
        window.closePasswordMythsModal = closePasswordMythsModal;

        // Initialize password myths modal
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🔍 Initializing password myths modal');
            const mythsModal = document.getElementById('passwordMythsModal');
            
            if (mythsModal) {
                console.log('✅ Found password myths modal');
                
                // Set up click handler for closing modal when clicking outside
                mythsModal.onclick = function(e) {
                    if (e.target === mythsModal) {
                        closePasswordMythsModal();
                    }
                };
                
                // Set up click handler for the close button
                const closeButton = mythsModal.querySelector('.reading-modal-close');
                if (closeButton) {
                    closeButton.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        closePasswordMythsModal();
                    };
                }
            } else {
                console.error('❌ Password myths modal not found');
            }
        });

        // Video Modal Functions
        function openVideoModal(title, videoId, duration) {
            // Block video modal for reading lessons
            if (title === 'Common Password Myths and Misconceptions') {
                console.log('🚫 Blocking video modal for reading lesson:', title);
                openPasswordMythsModal();
                return;
            }

            // Block video modal for interactive exercises
            if (title === 'Interactive Exercise: Password Strength Analyzer') {
                console.log('🚫 Blocking video modal for interactive exercise:', title);
                openPasswordExercise();
                return;
            }
            const modal = document.getElementById('videoModal');
            const videoTitle = document.getElementById('videoTitle');
            const durationText = document.getElementById('durationText');
            const video = document.getElementById('courseVideo');
            
            // Set video details
            videoTitle.textContent = title;
            durationText.textContent = duration + ' min';
            
            console.log('Looking for video with title:', title);
            
            // Try to load video from user videos (uploaded by admin)
            const userVideos = JSON.parse(localStorage.getItem('cybertech_user_videos') || '[]');
            console.log('Available user videos:', userVideos);
            
            // PRIORITIZE UPLOADED VIDEOS OVER SAMPLE VIDEOS
            
            // Strategy 1: Find uploaded videos with exact title match
            let matchedVideo = userVideos.find(v => 
                v.isUploadedFile === true &&
                v.title.toLowerCase() === title.toLowerCase()
            );
            
            // Strategy 2: Find uploaded videos with partial title match
            if (!matchedVideo) {
                matchedVideo = userVideos.find(v => 
                    v.isUploadedFile === true &&
                    (v.title.toLowerCase().includes(title.toLowerCase()) ||
                     title.toLowerCase().includes(v.title.toLowerCase()))
                );
            }
            
            // Strategy 3: Find any uploaded video for password security course
            if (!matchedVideo) {
                matchedVideo = userVideos.find(v => 
                    v.isUploadedFile === true &&
                    v.courseName && v.courseName.toLowerCase().includes('password')
                );
            }
            
            // Strategy 4: Find any uploaded video at all
            if (!matchedVideo) {
                matchedVideo = userVideos.find(v => v.isUploadedFile === true);
            }
            
            // FALLBACK TO SAMPLE VIDEOS ONLY IF NO UPLOADED VIDEOS EXIST
            
            // Strategy 5: Sample videos - exact title match
            if (!matchedVideo) {
                matchedVideo = userVideos.find(v => 
                    v.title.toLowerCase() === title.toLowerCase()
                );
            }
            
            // Strategy 6: Sample videos - partial title match
            if (!matchedVideo) {
                matchedVideo = userVideos.find(v => 
                    v.title.toLowerCase().includes(title.toLowerCase()) ||
                    title.toLowerCase().includes(v.title.toLowerCase())
                );
            }
            
            // Strategy 7: Sample videos - any from password course
            if (!matchedVideo) {
                matchedVideo = userVideos.find(v => 
                    v.courseName && v.courseName.toLowerCase().includes('password')
                );
            }
            
            console.log('Matched video:', matchedVideo);
            console.log('Is uploaded file:', matchedVideo?.isUploadedFile);
            
            if (matchedVideo && matchedVideo.videoUrl) {
                if (matchedVideo.isUploadedFile) {
                    console.log('✅ USING ADMIN UPLOADED VIDEO:', matchedVideo.title);
                    console.log('Video is a real uploaded file');
                } else {
                    console.log('⚠️ Using sample video:', matchedVideo.title);
                    console.log('No uploaded video found, falling back to sample');
                }
                console.log('Video URL:', matchedVideo.videoUrl);
                
                // Check if the URL is a data URL (from file upload) or regular URL
                if (matchedVideo.videoUrl.startsWith('data:')) {
                    console.log('Data URL detected - this is a real uploaded file');
                    video.src = matchedVideo.videoUrl;
                } else if (matchedVideo.videoUrl.startsWith('blob:')) {
                    console.log('Blob URL detected, this may not work across sessions');
                    video.src = matchedVideo.videoUrl;
                    
                    // Add error handler for blob URLs that may have expired
                    video.onerror = function() {
                        console.log('Blob URL failed, using sample video');
                        video.src = 'https://www.w3schools.com/html/mov_bbb.mp4';
                        video.load();
                    };
                } else {
                    video.src = matchedVideo.videoUrl;
                }
                
                if (matchedVideo.isUploadedFile) {
                    videoTitle.textContent = "🎬 " + matchedVideo.title + " (Admin Uploaded)";
                } else {
                    videoTitle.textContent = "📺 " + matchedVideo.title + " (Sample Video)";
                }
                durationText.textContent = matchedVideo.duration + ' min';
                
                // Add load event listener to verify video loads
                video.onloadedmetadata = function() {
                    console.log('Video loaded successfully. Duration:', video.duration, 'seconds');
                    if (video.duration > 0) {
                        durationText.textContent = Math.round(video.duration / 60) + ' min';
                    }
                };
                
                video.onerror = function() {
                    console.error('Error loading video:', matchedVideo.videoUrl);
                    // Fallback to sample video
                    video.src = 'https://www.w3schools.com/html/mov_bbb.mp4';
                    video.load();
                };
                
            } else {
                console.log('No matching video found, using sample video');
                // Use a working sample video
                video.src = 'https://www.w3schools.com/html/mov_bbb.mp4';
                videoTitle.textContent = title + ' (Sample Video)';
            }
            
            // Force video to load
            video.load();
            
            // Show modal
            modal.style.display = 'block';
            
            // Pause video initially
            video.pause();
        }
        
        function closeVideoModal() {
            const modal = document.getElementById('videoModal');
            const video = document.getElementById('courseVideo');
            
            // Hide modal
            modal.style.display = 'none';
            
            // Pause and reset video
            video.pause();
            video.currentTime = 0;
        }
        
        // Close modal when clicking outside of it
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('videoModal');
            if (event.target === modal) {
                closeVideoModal();
            }
        });
    </script>
    
    <style>
        /* Review Form Styles */
        .review-form-container {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .review-form-container h3 {
            margin-bottom: 5px;
            color: #333;
        }
        
        .review-form-container p {
            color: #666;
            margin-bottom: 20px;
        }
        
        .review-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .rating-input p {
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .star-rating {
            display: flex;
            gap: 5px;
            font-size: 24px;
            color: #ffc107;
            cursor: pointer;
        }
        
        .star-rating i:hover,
        .star-rating i.fas {
            color: #ffc107;
        }
        
        .comment-input label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .comment-input textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: vertical;
            font-family: 'Poppins', sans-serif;
        }
        
        .review-form button {
            align-self: flex-start;
            padding: 10px 20px;
        }
        
        .review-success {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
    
    <script>
        // Function to update styled platform names
        function updateStyledPlatformNames() {
            // Get platform name from settings manager if available
            let platformName = 'CyberTech'; // Default
            if (window.SettingsManager && window.SettingsManager.getPlatformInfo) {
                const platformInfo = window.SettingsManager.getPlatformInfo();
                if (platformInfo && platformInfo.platformName) {
                    platformName = platformInfo.platformName;
                }
            }
            
            // Find all platform-name-styled elements
            const styledElements = document.querySelectorAll('.platform-name-styled');
            
            styledElements.forEach(element => {
                // Split the platform name - first part is "Cyber" in blue, rest is in green
                let nameParts = platformName.split(/\s+/);
                let firstPart = 'Cyber';
                let restPart = 'Tech';
                
                if (nameParts.length >= 1) {
                    firstPart = nameParts[0];
                    restPart = nameParts.slice(1).join(' ');
                    
                    // If there's only one word, use first 5 chars as first part and rest as second part
                    if (restPart === '' && firstPart.length > 5) {
                        restPart = firstPart.substring(5);
                        firstPart = firstPart.substring(0, 5);
                    } else if (restPart === '') {
                        restPart = 'Tech'; // Default second part if first part is short
                    }
                }
                
                // Update the HTML
                element.innerHTML = `<span class="cyber-part">${firstPart}</span><span class="tech-part">${restPart}</span>`;
            });
            
            // Update regular platform name elements
            const platformElements = document.querySelectorAll('.platform-name:not(.platform-name-styled)');
            platformElements.forEach(element => {
                element.textContent = platformName;
            });
        }
        
        // Run when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Update styled platform names
            updateStyledPlatformNames();
            
            // Block video functionality for reading lessons and exercises
            blockVideoForReadingLessons();
            ensureReadingLessons();
            
            // Listen for settings changes
            document.addEventListener('settingsChanged', function() {
                updateStyledPlatformNames();
            });
            
            // Initialize tab functionality
            const tabButtons = document.querySelectorAll('.tab-btn');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    showTab(tabId);
                });
            });
            
            // Function to show the selected tab
            function showTab(tabId) {
                // Hide all tab contents
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // Show selected tab content
                document.getElementById(tabId).classList.add('active');
                
                // Update tab buttons
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if(btn.getAttribute('data-tab') === tabId) {
                        btn.classList.add('active');
                    }
                });
            }
            
            // Review Form Functionality
            // Check if user has already submitted a review for this course
            const hasReviewed = false; // Always allow reviews
            const reviewForm = document.getElementById('reviewFormContainer');
            
            if (hasReviewed) {
                // Replace form with thank you message
                reviewForm.innerHTML = `
                    <div class="review-success">
                        <i class="fas fa-check-circle" style="font-size: 24px; margin-bottom: 10px;"></i>
                        <h3>Thank You for Your Feedback!</h3>
                        <p>Your review has been submitted successfully and sent to CyberTech admin.</p>
                    </div>
                `;
            } else {
                // Star rating functionality
                const stars = document.querySelectorAll('.star-rating i');
                const ratingInput = document.getElementById('selectedRating');
                
                stars.forEach(star => {
                    star.addEventListener('mouseover', function() {
                        const rating = this.dataset.rating;
                        highlightStars(rating);
                    });
                    
                    star.addEventListener('mouseout', function() {
                        const currentRating = ratingInput.value;
                        highlightStars(currentRating);
                    });
                    
                    star.addEventListener('click', function() {
                        const rating = this.dataset.rating;
                        ratingInput.value = rating;
                        highlightStars(rating);
                    });
                });
                
                function highlightStars(rating) {
                    stars.forEach(star => {
                        if (star.dataset.rating <= rating) {
                            star.classList.remove('far');
                            star.classList.add('fas');
                        } else {
                            star.classList.remove('fas');
                            star.classList.add('far');
                        }
                    });
                }
                
                // Form submission
                const form = document.getElementById('reviewForm');
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const rating = ratingInput.value;
                    const comment = document.getElementById('reviewComment').value;
                    
                    if (rating === '0') {
                        alert('Please select a rating before submitting.');
                        return;
                    }
                    
                    // Get logged-in user information
                    const currentUser = JSON.parse(localStorage.getItem('cybertech_user') || '{}');
                    const userName = currentUser.username || currentUser.name || 'Anonymous User';
                    const userEmail = currentUser.email || 'No email provided';
                    
                    // Submit review using the global function to ensure it appears at the top for admin
                    if (typeof submitUserReview === 'function') {
                        submitUserReview(userName, userEmail, 'password', rating, comment || 'No comment provided');
                    } else {
                        // Fallback if submitUserReview function is not available
                        const feedbackData = {
                            name: userName,
                            email: userEmail,
                            course: 'password',
                            rating: rating,
                            comment: comment || 'No comment provided',
                            timestamp: new Date().toISOString(),
                            isNewUserReview: true
                        };
                        
                        // Send to admin feedback system
                        const existingFeedback = JSON.parse(localStorage.getItem('cybertech_feedback') || '[]');
                        existingFeedback.unshift(feedbackData); // Add to beginning
                        localStorage.setItem('cybertech_feedback', JSON.stringify(existingFeedback));
                        
                        // Store for cross-page communication
                        localStorage.setItem('new_user_review', JSON.stringify(feedbackData));
                    }
                    
                    // Show thank you message temporarily
                    reviewForm.innerHTML = `
                        <div class="review-success">
                            <i class="fas fa-check-circle" style="font-size: 24px; margin-bottom: 10px;"></i>
                            <h3>Thank You for Your Feedback!</h3>
                            <p>Your review has been submitted successfully and sent to CyberTech admin.</p>
                        </div>
                    `;
                    
                    // After 5 seconds, show the review form again
                    setTimeout(() => {
                        // Reset the form
                        reviewForm.innerHTML = `
                            <h3>Rate This Course</h3>
                            <p>Share your experience with CyberTech</p>
                            
                            <form id="reviewForm" class="review-form">
                                <div class="rating-input">
                                    <p>Your Rating:</p>
                                    <div class="star-rating">
                                        <i class="far fa-star" data-rating="1"></i>
                                        <i class="far fa-star" data-rating="2"></i>
                                        <i class="far fa-star" data-rating="3"></i>
                                        <i class="far fa-star" data-rating="4"></i>
                                        <i class="far fa-star" data-rating="5"></i>
                                        <input type="hidden" name="rating" id="selectedRating" value="0">
                                    </div>
                                </div>
                                
                                <div class="comment-input">
                                    <label for="reviewComment">Your Comment (Optional):</label>
                                    <textarea id="reviewComment" name="comment" rows="4" placeholder="Share your thoughts about this course..."></textarea>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">Submit Review</button>
                            </form>
                        `;
                        
                        // Reinitialize the star rating functionality
                        const newStars = document.querySelectorAll('.star-rating i');
                        const newRatingInput = document.getElementById('selectedRating');
                        
                        newStars.forEach(star => {
                            star.addEventListener('mouseover', function() {
                                const rating = this.dataset.rating;
                                highlightStars(rating);
                            });
                            
                            star.addEventListener('mouseout', function() {
                                const currentRating = newRatingInput.value;
                                highlightStars(currentRating);
                            });
                            
                            star.addEventListener('click', function() {
                                const rating = this.dataset.rating;
                                newRatingInput.value = rating;
                                highlightStars(rating);
                            });
                        });
                        
                        // Reattach the form submission event
                        const newForm = document.getElementById('reviewForm');
                        if (newForm) {
                            newForm.addEventListener('submit', arguments.callee);
                        }
                    }, 5000); // 5 seconds
                });
            }
        });

        // Function to aggressively remove chevron from password myths lesson
        function removePasswordMythsChevron() {
            const passwordMythsLesson = document.querySelector('.lesson-info:has(span:contains("Common Password Myths and Misconceptions"))') || 
                                       Array.from(document.querySelectorAll('.lesson-info')).find(el => 
                                           el.querySelector('span') && el.querySelector('span').textContent === 'Common Password Myths and Misconceptions'
                                       );
            
            if (passwordMythsLesson) {
                console.log('🎯 Found Common Password Myths and Misconceptions lesson, removing chevron');
                
                // Remove any expand icons
                const expandIcon = passwordMythsLesson.querySelector('.expand-icon');
                if (expandIcon) {
                    expandIcon.remove();
                    console.log('✅ Removed chevron from password myths lesson');
                }
                
                // Ensure it's a reading lesson
                passwordMythsLesson.classList.remove('lesson-expandable');
                passwordMythsLesson.classList.add('reading-lesson');
                
                // Ensure blue icon
                const icon = passwordMythsLesson.querySelector('i:first-child');
                if (icon) {
                    icon.className = 'fas fa-file-alt';
                    icon.style.color = '#4e54c8';
                }
                
                // Set modal click handler
                passwordMythsLesson.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    openPasswordMythsModal();
                };
            }
        }
        
        // Call the function every second to ensure chevron is always removed
        setInterval(removePasswordMythsChevron, 1000);

        // Function to block video functionality for reading lessons and exercises
        function blockVideoForReadingLessons() {
            const lessons = document.querySelectorAll('.lesson-info');
            lessons.forEach(lesson => {
                const lessonTitle = lesson.querySelector('span')?.textContent;
                const isReadingLesson = lessonTitle === 'Common Password Myths and Misconceptions';
                const isExerciseLesson = lessonTitle === 'Interactive Exercise: Password Strength Analyzer';
                
                if (isReadingLesson) {
                    // Remove any video-related onclick handlers
                    if (lesson.onclick && lesson.onclick.toString().includes('openVideoModal')) {
                        lesson.onclick = function() { openPasswordMythsModal(); };
                        console.log('🚫 Blocked video onclick for:', lessonTitle);
                    }
                    
                    // Remove video-lesson class if present
                    if (lesson.classList.contains('video-lesson')) {
                        lesson.classList.remove('video-lesson');
                        lesson.classList.add('reading-lesson');
                        console.log('🚫 Removed video class for:', lessonTitle);
                    }
                    
                    // Ensure document icon
                    const icon = lesson.querySelector('i');
                    if (icon && icon.classList.contains('fa-play-circle')) {
                        icon.className = 'fas fa-file-alt';
                        icon.style.color = '#4e54c8';
                        console.log('🚫 Fixed video icon for:', lessonTitle);
                    }
                    
                    // Ensure correct onclick handler
                    lesson.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        openPasswordMythsModal();
                    };
                    
                    // Mark as processed to prevent re-processing
                    lesson.setAttribute('data-reading-lesson-processed', 'true');
                }
                
                if (isExerciseLesson) {
                    // Remove any video-related onclick handlers
                    if (lesson.onclick && lesson.onclick.toString().includes('openVideoModal')) {
                        lesson.onclick = function() { openPasswordExercise(); };
                        console.log('🚫 Blocked video onclick for exercise:', lessonTitle);
                    }
                    
                    // Remove video-lesson class if present
                    if (lesson.classList.contains('video-lesson')) {
                        lesson.classList.remove('video-lesson');
                        lesson.classList.add('exercise-lesson');
                        console.log('🚫 Removed video class for exercise:', lessonTitle);
                    }
                    
                    // Ensure puzzle piece icon
                    const icon = lesson.querySelector('i');
                    if (icon && icon.classList.contains('fa-play-circle')) {
                        icon.className = 'fas fa-puzzle-piece';
                        console.log('🚫 Fixed video icon for exercise:', lessonTitle);
                    }
                    
                    // Ensure correct onclick handler
                    lesson.setAttribute('onclick', 'openPasswordExercise()');
                    
                    // Mark as processed to prevent re-processing
                    lesson.setAttribute('data-exercise-lesson-processed', 'true');
                }
            });
        }

        // Function to ensure reading lessons and exercises maintain correct state
        function ensureReadingLessons() {
            console.log('🔍 Ensuring reading lessons and exercises are properly configured...');
            
            const lessons = document.querySelectorAll('.lesson-info');
            lessons.forEach(lesson => {
                const lessonTitle = lesson.querySelector('span')?.textContent;
                const isReadingLesson = lessonTitle === 'Common Password Myths and Misconceptions';
                const isExerciseLesson = lessonTitle === 'Interactive Exercise: Password Strength Analyzer';
                
                if (isReadingLesson) {
                    console.log('📖 Configuring reading lesson:', lessonTitle);
                    
                    // Ensure it has the correct classes
                    lesson.classList.add('reading-lesson');
                    lesson.classList.remove('video-lesson');
                    
                    // Ensure it has the correct icon
                    const icon = lesson.querySelector('i');
                    if (icon) {
                        icon.className = 'fas fa-file-alt';
                        icon.style.color = '#4e54c8';
                    }
                    
                    // Ensure it has the correct onclick handler
                    lesson.onclick = function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        openPasswordMythsModal();
                    };
                    
                    // Remove any expand icons
                    const expandIcon = lesson.querySelector('.expand-icon');
                    if (expandIcon) {
                        expandIcon.remove();
                    }
                    
                    console.log('✅ Reading lesson configured:', lessonTitle);
                }
                
                if (isExerciseLesson) {
                    console.log('🧩 Configuring exercise lesson:', lessonTitle);
                    
                    // Ensure it has the correct classes
                    lesson.classList.add('exercise-lesson');
                    lesson.classList.remove('video-lesson');
                    
                    // Ensure it has the correct icon
                    const icon = lesson.querySelector('i');
                    if (icon) {
                        icon.className = 'fas fa-puzzle-piece';
                    }
                    
                    // Ensure it has the correct onclick handler
                    lesson.setAttribute('onclick', 'openPasswordExercise()');
                    
                    console.log('✅ Exercise lesson configured:', lessonTitle);
                }
            });
        }

        // Function to toggle password myths content
        function togglePasswordMyths(element) {
            const content = element.nextElementSibling;
            const expandIcon = element.querySelector('.expand-icon');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                expandIcon.classList.add('rotate');
                expandIcon.style.transform = 'rotate(180deg)';
            } else {
                content.style.display = 'none';
                expandIcon.classList.remove('rotate');
                expandIcon.style.transform = 'rotate(0deg)';
            }
        }
    </script>
    <script>
        // Function to show notifications
        function showNotification(message, type = 'info') {
            // Only show notifications to admin users
            if (typeof isAdminUser === 'function' && !isAdminUser()) {
                console.log('Notification suppressed for regular user:', message);
                return; // Don't show notifications to regular users
            }
            
            // Remove any existing notifications
            const existingNotification = document.querySelector('.notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <span>${message}</span>
                <button class="close-btn">&times;</button>
            `;
            
            // Style the notification
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px 15px;
                background-color: ${type === 'success' ? '#4CAF50' : '#2196F3'};
                color: white;
                border-radius: 4px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.2);
                z-index: 1000;
                display: flex;
                align-items: center;
                justify-content: space-between;
                min-width: 200px;
            `;
            
            // Add close button functionality
            const closeBtn = notification.querySelector('.close-btn');
            closeBtn.style.cssText = `
                background: none;
                border: none;
                color: white;
                font-size: 20px;
                cursor: pointer;
                margin-left: 10px;
            `;
            closeBtn.addEventListener('click', () => notification.remove());
            
            // Add to page
            document.body.appendChild(notification);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 5000);
        }

        // Function to check for course name changes and update the course title
        function checkForCourseNameChanges() {
            // Check if there's a course name change notification
            const courseNameChangedData = localStorage.getItem('cybertech_course_name_changed');
            if (!courseNameChangedData) return false;
            
            try {
                // Parse the course name change data
                const changeData = JSON.parse(courseNameChangedData);
                
                // Get the course title element
                const courseTitleElement = document.getElementById('course-title');
                if (!courseTitleElement) return false;
                
                // Get courses from localStorage
                const courses = JSON.parse(localStorage.getItem('cybertech_admin_courses') || '[]');
                
                // Find the Password Security course
                const passwordCourse = courses.find(course => 
                    course.name.toLowerCase().includes('password') ||
                    (changeData.oldName && changeData.oldName.toLowerCase().includes('password'))
                );
                
                if (passwordCourse && passwordCourse.id === changeData.courseId) {
                    console.log(`Detected course name change for Password Security: "${changeData.oldName}" → "${changeData.newName}"`);
                    
                    // Update the course title
                    courseTitleElement.textContent = changeData.newName;
                    
                    // Add a highlight effect to show the update
                    courseTitleElement.style.transition = 'background-color 0.5s ease';
                    courseTitleElement.style.backgroundColor = 'rgba(255, 255, 0, 0.2)';
                    setTimeout(() => {
                        courseTitleElement.style.backgroundColor = 'transparent';
                    }, 1500);
                    
                    // Update page title
                    document.title = `${changeData.newName} Course | CyberTech`;
                    
                    // Show a notification about the name change
                    const notification = document.createElement('div');
                    notification.className = 'course-update-notification';
                    notification.innerHTML = `
                        <div class="notification-content">
                            <i class="fas fa-sync-alt"></i>
                            <span>Course name has been updated to "${changeData.newName}"</span>
                        </div>
                    `;
                    
                    notification.style.cssText = `
                        position: fixed;
                        bottom: 20px;
                        right: 20px;
                        background-color: #4CAF50;
                        color: white;
                        padding: 12px 20px;
                        border-radius: 4px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
                        z-index: 9999;
                        display: flex;
                        align-items: center;
                        animation: slideIn 0.3s ease forwards;
                    `;
                    
                    // Add animation styles
                    const style = document.createElement('style');
                    style.textContent = `
                        @keyframes slideIn {
                            from { transform: translateX(100%); opacity: 0; }
                            to { transform: translateX(0); opacity: 1; }
                        }
                        @keyframes slideOut {
                            from { transform: translateX(0); opacity: 1; }
                            to { transform: translateX(100%); opacity: 0; }
                        }
                    `;
                    document.head.appendChild(style);
                    
                    document.body.appendChild(notification);
                    
                    // Remove notification after 3 seconds
                    setTimeout(() => {
                        notification.style.animation = 'slideOut 0.3s ease forwards';
                        setTimeout(() => {
                            if (notification.parentNode) {
                                notification.parentNode.removeChild(notification);
                            }
                        }, 300);
                    }, 3000);
                    
                    return true;
                }
            } catch (error) {
                console.error('Error checking for course name changes:', error);
            }
            
            return false;
        }

        // Run when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Check for course name changes immediately
            checkForCourseNameChanges();
            
            // Set up interval to check for course name changes every 2 seconds
            setInterval(checkForCourseNameChanges, 2000);
            
            // Also check when window gains focus (when returning from admin panel)
            window.addEventListener('focus', checkForCourseNameChanges);
            
            // Ensure reading lessons are properly configured
            setTimeout(() => {
                blockVideoForReadingLessons();
                ensureReadingLessons();
            }, 500);
            
            // Set up periodic check to maintain reading lesson state
            setInterval(() => {
                blockVideoForReadingLessons();
                ensureReadingLessons();
            }, 2000);
        });
        
        // Listen for template updates
        window.addEventListener('storage', function(event) {
            if (event.key === 'cybertech_overview_templates_last_update') {
                console.log('Template updates detected, refreshing course content...');
                setTimeout(() => {
                    if (typeof checkAndApplyTemplateUpdates === 'function') {
                        checkAndApplyTemplateUpdates();
                    }
                }, 500);
            }
        });
    </script>
</body>
</html> 
